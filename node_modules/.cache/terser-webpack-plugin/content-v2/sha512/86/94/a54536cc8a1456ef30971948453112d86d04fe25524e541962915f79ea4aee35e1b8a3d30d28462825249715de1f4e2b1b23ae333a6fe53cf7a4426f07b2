{"code":"!function(R){var e={};function n(C){if(e[C])return e[C].exports;var t=e[C]={i:C,l:!1,exports:{}};return R[C].call(t.exports,t,t.exports,n),t.l=!0,t.exports}n.m=R,n.c=e,n.d=function(R,e,C){n.o(R,e)||Object.defineProperty(R,e,{enumerable:!0,get:C})},n.r=function(R){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(R,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(R,\"__esModule\",{value:!0})},n.t=function(R,e){if(1&e&&(R=n(R)),8&e)return R;if(4&e&&\"object\"==typeof R&&R&&R.__esModule)return R;var C=Object.create(null);if(n.r(C),Object.defineProperty(C,\"default\",{enumerable:!0,value:R}),2&e&&\"string\"!=typeof R)for(var t in R)n.d(C,t,function(e){return R[e]}.bind(null,t));return C},n.n=function(R){var e=R&&R.__esModule?function(){return R.default}:function(){return R};return n.d(e,\"a\",e),e},n.o=function(R,e){return Object.prototype.hasOwnProperty.call(R,e)},n.p=\"\",n(n.s=1)}([function(R,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),function(R){R.METRIC=\"METRIC\",R.DIMENSION=\"DIMENSION\"}(e.ConceptType||(e.ConceptType={})),function(R){R.RENDER=\"RENDER\"}(e.MessageType||(e.MessageType={})),function(R){R.YEAR=\"YEAR\",R.YEAR_QUARTER=\"YEAR_QUARTER\",R.YEAR_MONTH=\"YEAR_MONTH\",R.YEAR_WEEK=\"YEAR_WEEK\",R.YEAR_MONTH_DAY=\"YEAR_MONTH_DAY\",R.YEAR_MONTH_DAY_HOUR=\"YEAR_MONTH_DAY_HOUR\",R.QUARTER=\"QUARTER\",R.MONTH=\"MONTH\",R.WEEK=\"WEEK\",R.MONTH_DAY=\"MONTH_DAY\",R.DAY_OF_WEEK=\"DAY_OF_WEEK\",R.DAY=\"DAY\",R.HOUR=\"HOUR\",R.MINUTE=\"MINUTE\",R.DURATION=\"DURATION\",R.COUNTRY=\"COUNTRY\",R.COUNTRY_CODE=\"COUNTRY_CODE\",R.CONTINENT=\"CONTINENT\",R.CONTINENT_CODE=\"CONTINENT_CODE\",R.SUB_CONTINENT=\"SUB_CONTINENT\",R.SUB_CONTINENT_CODE=\"SUB_CONTINENT_CODE\",R.REGION=\"REGION\",R.REGION_CODE=\"REGION_CODE\",R.CITY=\"CITY\",R.CITY_CODE=\"CITY_CODE\",R.METRO_CODE=\"METRO_CODE\",R.LATITUDE_LONGITUDE=\"LATITUDE_LONGITUDE\",R.NUMBER=\"NUMBER\",R.PERCENT=\"PERCENT\",R.TEXT=\"TEXT\",R.BOOLEAN=\"BOOLEAN\",R.URL=\"URL\",R.IMAGE=\"IMAGE\",R.CURRENCY_AED=\"CURRENCY_AED\",R.CURRENCY_ALL=\"CURRENCY_ALL\",R.CURRENCY_ARS=\"CURRENCY_ARS\",R.CURRENCY_AUD=\"CURRENCY_AUD\",R.CURRENCY_BDT=\"CURRENCY_BDT\",R.CURRENCY_BGN=\"CURRENCY_BGN\",R.CURRENCY_BOB=\"CURRENCY_BOB\",R.CURRENCY_BRL=\"CURRENCY_BRL\",R.CURRENCY_CAD=\"CURRENCY_CAD\",R.CURRENCY_CDF=\"CURRENCY_CDF\",R.CURRENCY_CHF=\"CURRENCY_CHF\",R.CURRENCY_CLP=\"CURRENCY_CLP\",R.CURRENCY_CNY=\"CURRENCY_CNY\",R.CURRENCY_COP=\"CURRENCY_COP\",R.CURRENCY_CRC=\"CURRENCY_CRC\",R.CURRENCY_CZK=\"CURRENCY_CZK\",R.CURRENCY_DKK=\"CURRENCY_DKK\",R.CURRENCY_DOP=\"CURRENCY_DOP\",R.CURRENCY_EGP=\"CURRENCY_EGP\",R.CURRENCY_ETB=\"CURRENCY_ETB\",R.CURRENCY_EUR=\"CURRENCY_EUR\",R.CURRENCY_GBP=\"CURRENCY_GBP\",R.CURRENCY_HKD=\"CURRENCY_HKD\",R.CURRENCY_HRK=\"CURRENCY_HRK\",R.CURRENCY_HUF=\"CURRENCY_HUF\",R.CURRENCY_IDR=\"CURRENCY_IDR\",R.CURRENCY_ILS=\"CURRENCY_ILS\",R.CURRENCY_INR=\"CURRENCY_INR\",R.CURRENCY_IRR=\"CURRENCY_IRR\",R.CURRENCY_ISK=\"CURRENCY_ISK\",R.CURRENCY_JMD=\"CURRENCY_JMD\",R.CURRENCY_JPY=\"CURRENCY_JPY\",R.CURRENCY_KRW=\"CURRENCY_KRW\",R.CURRENCY_LKR=\"CURRENCY_LKR\",R.CURRENCY_LTL=\"CURRENCY_LTL\",R.CURRENCY_MNT=\"CURRENCY_MNT\",R.CURRENCY_MVR=\"CURRENCY_MVR\",R.CURRENCY_MXN=\"CURRENCY_MXN\",R.CURRENCY_MYR=\"CURRENCY_MYR\",R.CURRENCY_NOK=\"CURRENCY_NOK\",R.CURRENCY_NZD=\"CURRENCY_NZD\",R.CURRENCY_PAB=\"CURRENCY_PAB\",R.CURRENCY_PEN=\"CURRENCY_PEN\",R.CURRENCY_PHP=\"CURRENCY_PHP\",R.CURRENCY_PKR=\"CURRENCY_PKR\",R.CURRENCY_PLN=\"CURRENCY_PLN\",R.CURRENCY_RON=\"CURRENCY_RON\",R.CURRENCY_RSD=\"CURRENCY_RSD\",R.CURRENCY_RUB=\"CURRENCY_RUB\",R.CURRENCY_SAR=\"CURRENCY_SAR\",R.CURRENCY_SEK=\"CURRENCY_SEK\",R.CURRENCY_SGD=\"CURRENCY_SGD\",R.CURRENCY_THB=\"CURRENCY_THB\",R.CURRENCY_TRY=\"CURRENCY_TRY\",R.CURRENCY_TWD=\"CURRENCY_TWD\",R.CURRENCY_TZS=\"CURRENCY_TZS\",R.CURRENCY_UAH=\"CURRENCY_UAH\",R.CURRENCY_USD=\"CURRENCY_USD\",R.CURRENCY_UYU=\"CURRENCY_UYU\",R.CURRENCY_VEF=\"CURRENCY_VEF\",R.CURRENCY_VND=\"CURRENCY_VND\",R.CURRENCY_YER=\"CURRENCY_YER\",R.CURRENCY_ZAR=\"CURRENCY_ZAR\"}(e.FieldType||(e.FieldType={})),function(R){R.DEFAULT=\"DEFAULT\",R.COMPARISON=\"COMPARISON\",R.SUMMARY=\"SUMMARY\"}(e.TableType||(e.TableType={})),function(R){R.METRIC=\"METRIC\",R.DIMENSION=\"DIMENSION\",R.MAX_RESULTS=\"MAX_RESULTS\"}(e.ConfigDataElementType||(e.ConfigDataElementType={})),function(R){R.TEXTINPUT=\"TEXTINPUT\",R.SELECT_SINGLE=\"SELECT_SINGLE\",R.CHECKBOX=\"CHECKBOX\",R.FONT_COLOR=\"FONT_COLOR\",R.FONT_SIZE=\"FONT_SIZE\",R.FONT_FAMILY=\"FONT_FAMILY\",R.FILL_COLOR=\"FILL_COLOR\",R.BORDER_COLOR=\"BORDER_COLOR\",R.AXIS_COLOR=\"AXIS_COLOR\",R.GRID_COLOR=\"GRID_COLOR\",R.OPACITY=\"OPACITY\",R.LINE_WEIGHT=\"LINE_WEIGHT\",R.LINE_STYLE=\"LINE_STYLE\",R.BORDER_RADIUS=\"BORDER_RADIUS\",R.INTERVAL=\"INTERVAL\",R.SELECT_RADIO=\"SELECT_RADIO\"}(e.ConfigStyleElementType||(e.ConfigStyleElementType={})),function(R){R.FILTER=\"FILTER\"}(e.DSInteractionType||(e.DSInteractionType={})),function(R){R.VIZ_READY=\"vizReady\",R.INTERACTION=\"vizAction\"}(e.ToDSMessageType||(e.ToDSMessageType={})),function(R){R.FILTER=\"FILTER\"}(e.InteractionType||(e.InteractionType={}))},function(R,e,n){n(2)},function(R,e,n){\"use strict\";var C=this&&this.__assign||function(){return(C=Object.assign||function(R){for(var e,n=1,C=arguments.length;n<C;n++)for(var t in e=arguments[n])Object.prototype.hasOwnProperty.call(e,t)&&(R[t]=e[t]);return R}).apply(this,arguments)};Object.defineProperty(e,\"__esModule\",{value:!0});\n/*!\n  @license\n  Copyright 2019 Google LLC\n\n  Licensed under the Apache License, Version 2.0 (the \"License\");\n  you may not use this file except in compliance with the License.\n  You may obtain a copy of the License at\n\n  https://www.apache.org/licenses/LICENSE-2.0\n\n  Unless required by applicable law or agreed to in writing, software\n  distributed under the License is distributed on an \"AS IS\" BASIS,\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  See the License for the specific language governing permissions and\n  limitations under the License.\n*/\nvar t=n(0);!function(R){for(var n in R)e.hasOwnProperty(n)||(e[n]=R[n])}(n(0)),e.getWidth=function(){return document.body.clientWidth},e.getHeight=function(){return document.documentElement.clientHeight},e.getComponentId=function(){var R=new URLSearchParams(window.location.search);if(null!==R.get(\"dscId\"))return R.get(\"dscId\");throw new Error(\"dscId must be in the query parameters. This is a bug in ds-component, please file a bug: https://github.com/googledatastudio/ds-component/issues/new\")};var E=function(R){return R.type===t.ConfigDataElementType.DIMENSION||R.type===t.ConfigDataElementType.METRIC},r=function(R){return R===t.ConfigDataElementType.DIMENSION?-1:1},o=function(R){var e=[];R.config.data.forEach((function(R){R.elements.filter(E).forEach((function(R){e.push(R)}))}));var n,C=(n=function(R,e){return r(R.type)-r(e.type)},e.map((function(R,e){return{item:R,index:e}})).sort((function(R,e){return n(R.item,e.item)||R.index-e.index})).map((function(R){return R.item}))),t=[];return C.forEach((function(R){R.value.forEach((function(){return t.push(R.id)}))})),t},N=function(R){var e,n=o(R),C=((e={})[t.TableType.DEFAULT]=[],e);return R.dataResponse.tables.forEach((function(R){var e=R.rows.map(function(R){return function(e){var n,C,t={};return(n=e,C=R,n.length<C.length?n.map((function(R,e){return[R,C[e]]})):C.map((function(R,e){return[n[e],R]}))).forEach((function(R){var e=R[0],n=R[1];void 0===t[n]&&(t[n]=[]),t[n].push(e)}),{}),t}}(n));R.id===t.TableType.DEFAULT?C[R.id]=e:(void 0===C[R.id]&&(C[R.id]=[]),C[R.id]=C[R.id].concat(e))})),C},i=function(R){var n,E=e.fieldsByConfigId(R),r=o(R),N={},i=r.map((function(R){void 0===N[R]?N[R]=0:N[R]++;var e=N[R],n=E[R][e];return C(C({},n),{configId:R})})),_=((n={})[t.TableType.DEFAULT]={headers:[],rows:[]},n);return R.dataResponse.tables.forEach((function(R){_[R.id]={headers:i,rows:R.rows}})),_};e.fieldsByConfigId=function(R){var e=function(R){return R.fields.reduce((function(R,e){return R[e.id]=e,R}),{})}(R),n={};return R.config.data.forEach((function(R){R.elements.filter(E).forEach((function(R){n[R.id]=R.value.map((function(R){return e[R]}))}))})),n};var _=function(R){var e={};return(R.config.style||[]).forEach((function(R){R.elements.forEach((function(R){if(void 0!==e[R.id])throw new Error(\"styleIds must be unique. Your styleId: '\"+R.id+\"' is used more than once.\");e[R.id]={value:R.value,defaultValue:R.defaultValue}}))}),{}),e},a=function(R){return R.config.themeStyle},U=function(R){switch(R){case t.DSInteractionType.FILTER:return t.InteractionType.FILTER}},u=function(R){var e=R.config.interactions;return void 0===e?{}:e.reduce((function(R,e){var n=e.supportedActions.map(U),C={type:U(e.value.type),data:e.value.data};return R[e.id]={value:C,supportedActions:n},R}),{})};e.tableTransform=function(R){return{tables:i(R),fields:e.fieldsByConfigId(R),style:_(R),theme:a(R),interactions:u(R)}},e.objectTransform=function(R){return{tables:N(R),fields:e.fieldsByConfigId(R),style:_(R),theme:a(R),interactions:u(R)}};var Y=function(R){var n=!1;return(R===e.tableTransform||R===e.objectTransform||function(R){var e=!1;return\"identity\"===R(\"identity\")&&(e=!0,console.warn(\"This is an unsupported data format. Please use one of the supported transforms:\\n       dscc.objectFormat or dscc.tableFormat.\")),e}(R))&&(n=!0),n};e.subscribeToData=function(R,n){if(Y(n.transform)){var C=function(e){e.data.type===t.MessageType.RENDER?R(n.transform(e.data)):console.error(\"MessageType: \"+e.data.type+\" is not supported by this version of the library.\")};window.addEventListener(\"message\",C);var E={componentId:e.getComponentId(),type:t.ToDSMessageType.VIZ_READY};return window.parent.postMessage(E,\"*\"),function(){return window.removeEventListener(\"message\",C)}}throw new Error(\"Only the built in transform functions are supported.\")},e.sendInteraction=function(R,n,C){var E=e.getComponentId(),r={type:t.ToDSMessageType.INTERACTION,id:R,data:C,componentId:E};window.parent.postMessage(r,\"*\")},e.clearInteraction=function(R,n){e.sendInteraction(R,n,void 0)}}]);","extractedComments":[]}